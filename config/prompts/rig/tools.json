[
  {
    "name": "web_search",
    "description": "使用 Tavily API 进行网络搜索。参数：query (必需，搜索查询字符串)，top_k (可选，返回结果数量，1-10，默认5)。",
    "parameters": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "搜索查询字符串"
        },
        "top_k": {
          "type": "integer",
          "description": "返回结果数量，范围1-10，默认5"
        }
      },
      "required": ["query"]
    }
  },
  {
    "name": "read_file",
    "description": "读取文件内容。参数：path (必需，文件路径)，start_line (可选，起始行号)，end_line (可选，结束行号)，max_bytes (可选，最大字节数，默认200000，最大2000000)。",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "文件路径"
        },
        "start_line": {
          "type": "integer",
          "description": "起始行号（从1开始）"
        },
        "end_line": {
          "type": "integer",
          "description": "结束行号"
        },
        "max_bytes": {
          "type": "integer",
          "description": "最大读取字节数，默认200000，最大2000000"
        }
      },
      "required": ["path"]
    }
  },
  {
    "name": "read_code",
    "description": "读取代码文件内容，带行号显示。参数：path (必需，文件路径)，start_line (可选，起始行号)，end_line (可选，结束行号)，max_bytes (可选，最大字节数，默认200000，最大2000000)。",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "文件路径"
        },
        "start_line": {
          "type": "integer",
          "description": "起始行号（从1开始）"
        },
        "end_line": {
          "type": "integer",
          "description": "结束行号"
        },
        "max_bytes": {
          "type": "integer",
          "description": "最大读取字节数，默认200000，最大2000000"
        }
      },
      "required": ["path"]
    }
  },
  {
    "name": "list_dir",
    "description": "列出目录内容。参数：path (必需，目录路径)，recursive (可选，是否递归，默认false)，max_entries (可选，最大条目数，默认2000，最大20000)，max_depth (可选，最大深度，默认4，最大32)，include_hidden (可选，是否包含隐藏文件，默认false)。",
    "parameters": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "目录路径"
        },
        "recursive": {
          "type": "boolean",
          "description": "是否递归列出子目录"
        },
        "max_entries": {
          "type": "integer",
          "description": "最大条目数，默认2000，最大20000"
        },
        "max_depth": {
          "type": "integer",
          "description": "递归最大深度，默认4，最大32"
        },
        "include_hidden": {
          "type": "boolean",
          "description": "是否包含隐藏文件（以.开头的文件）"
        }
      },
      "required": ["path"]
    }
  },
  {
    "name": "modify_file",
    "description": "修改文件内容。参数：diff (必需，Git unified diff 格式的补丁内容)，path (可选，文件路径，用于显示)。\n\n工具约束：modify_file 仅接受 Git unified diff 格式。必须包含 diff --git 行、---/+++ 行、@@ -a,b +c,d @@ hunk 头，并保持逐行换行。严禁使用 *** Begin Patch 或缺失 a/ b/ 前缀。\n\n示例格式：\ndiff --git a/file.txt b/file.txt\n--- a/file.txt\n+++ b/file.txt\n@@ -1,3 +1,3 @@\n line1\n-line2\n+line2_modified\n line3",
    "parameters": {
      "type": "object",
      "properties": {
        "diff": {
          "type": "string",
          "description": "Git unified diff 格式的补丁内容，必须包含完整的 diff 头部和 hunk 信息"
        },
        "path": {
          "type": "string",
          "description": "文件路径（可选，用于显示）"
        }
      },
      "required": ["diff"]
    }
  },
  {
    "name": "code_exec",
    "description": "在沙箱容器中执行 Python 代码。参数：language (必需，语言，当前仅支持 \"python\")，code (必需，要执行的代码)。",
    "parameters": {
      "type": "object",
      "properties": {
        "language": {
          "type": "string",
          "description": "编程语言，当前仅支持 \"python\""
        },
        "code": {
          "type": "string",
          "description": "要执行的代码"
        }
      },
      "required": ["language", "code"]
    }
  },
  {
    "name": "bash_exec",
    "description": "在沙箱容器中执行 bash 命令。参数：command 或 code (必需，要执行的 bash 命令)。",
    "parameters": {
      "type": "object",
      "properties": {
        "command": {
          "type": "string",
          "description": "要执行的 bash 命令"
        },
        "code": {
          "type": "string",
          "description": "要执行的 bash 命令（command 的别名）"
        }
      },
      "required": []
    }
  },
  {
    "name": "ask_questions",
    "description": "生成多个“内容充实、具体、可执行”的问题供用户批量审核，审核通过后在新对话中并发提问。仅当用户明确要求生成问题列表时使用，普通回答时不要调用该工具。要求：每个问题必须自洽且互相独立，包含公共上下文，不得引用“上文/上一题/上述”等；至少包含背景/上下文、明确目标、具体约束或输出格式（避免泛化或单句短问），建议不少于 2-3 句。参数：questions (必需，问题列表)。",
    "parameters": {
      "type": "object",
      "properties": {
        "questions": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "string",
            "minLength": 50,
            "description": "单个问题文本（应包含背景、目标、约束/输出格式，避免泛化）"
          }
        }
      },
      "required": ["questions"]
    }
  }
]
