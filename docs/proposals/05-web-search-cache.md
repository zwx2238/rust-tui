# 改进点 5：web_search 缓存与错误可观测性

## 背景/问题
`src/ui/tools/web_search.rs` 目前对 Tavily 返回的异常只会默默回退到空结果，且每次请求都直连网络，重复查询成本较高。

## 目标
- 对相同查询进行短期缓存，减少重复请求。
- 提升错误可观测性（HTTP 状态码、响应体解析失败）。

## 方案概要
1. 在工具层增加 LRU/TTL 缓存（内存即可），缓存键为 `query + top_k`。
2. 对非 2xx 响应返回明确错误信息（包含状态码）。
3. 解析失败时保留原始响应片段（截断）用于排查。
4. 允许通过配置调整 `timeout` 与 `max_results` 上限。

## 涉及模块
- Web 工具实现：`src/ui/tools/web_search.rs`
- 工具调用与日志：`src/ui/tool_service/*`
- 配置：`src/config.rs`

## 验收标准
- 同一 query 在 TTL 内不会触发网络请求。
- 出错时在 UI 中显示可读错误信息。
- 配置项修改后立即生效（重启即可）。

## 非目标
- 不引入磁盘缓存与离线索引。
